<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Properties &#8212; Owlready 0.3 documentation</title>
    
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Owlready 0.3 documentation" href="index.html" />
    <link rel="next" title="Restrictions" href="restriction.html" />
    <link rel="prev" title="Classes and Instances (Individuals)" href="class.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="restriction.html" title="Restrictions"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="class.html" title="Classes and Instances (Individuals)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Owlready 0.3 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="properties">
<h1>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h1>
<div class="section" id="creating-a-new-class-of-property">
<h2>Creating a new class of property<a class="headerlink" href="#creating-a-new-class-of-property" title="Permalink to this headline">¶</a></h2>
<p>A new property can be created by sublcassing the Property class.
The &#8216;domain&#8217; and &#8216;range&#8217; properties can be used to specify the domain and the range of the property.
Domain and range must be given in list, since OWL allows to specify several domains or ranges for a given
property (if multiple domains or ranges are specified, the domain or range is the intersection of them,
<em>i.e.</em> the items in the list are combined with an &#8216;and&#8217; operator).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owlready</span> <span class="k">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">onto</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;http://test.org/onto.owl&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Drug</span><span class="p">(</span><span class="n">Thing</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">onto</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Ingredient</span><span class="p">(</span><span class="n">Thing</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">onto</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">has_for_ingredient</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">onto</span>
<span class="gp">... </span>    <span class="n">domain</span>   <span class="o">=</span> <span class="p">[</span><span class="n">Drug</span><span class="p">]</span>
<span class="gp">... </span>    <span class="nb">range</span>    <span class="o">=</span> <span class="p">[</span><span class="n">Ingredient</span><span class="p">]</span>
</pre></div>
</div>
<p>The following subclasses of Property are available: FunctionalProperty, InverseFunctionalProperty,
TransitiveProperty, SymmetricProperty, AsymmetricProperty, ReflexiveProperty, IrreflexiveProperty.</p>
</div>
<div class="section" id="creating-a-relation">
<h2>Creating a relation<a class="headerlink" href="#creating-a-relation" title="Permalink to this headline">¶</a></h2>
<p>A relation is a triple (subject, property, object) where property is a Property class, and subject and object
are instances which are subclasses of the domain and range defined for the property class.
A relation can be get or set using Python attribute of the subject, the attribute name being the same as
the Property class name:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_drug</span> <span class="o">=</span> <span class="n">Drug</span><span class="p">(</span><span class="s2">&quot;my_drug&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">acetaminophen</span> <span class="o">=</span> <span class="n">Ingredient</span><span class="p">(</span><span class="s2">&quot;acetaminophen&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">my_drug</span><span class="o">.</span><span class="n">has_for_ingredient</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">acetaminophen</span><span class="p">)</span>
</pre></div>
</div>
<p>The attribute contains a list of the subjects:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_drug</span><span class="o">.</span><span class="n">has_for_ingredient</span><span class="p">)</span>
<span class="go">[onto.acetaminophen]</span>
</pre></div>
</div>
</div>
<div class="section" id="data-property">
<h2>Data Property<a class="headerlink" href="#data-property" title="Permalink to this headline">¶</a></h2>
<p>Contrary to OWL, Owlready does not distinguish between ObjectProperty and DataProperty,
because everything is object in Python,
and Owlready aims at providing a transparent access to ontology in Python.
Data Properties are simply a Property with a data type in their range. The following data types
are currently supported by Owlready:</p>
<blockquote>
<div><ul class="simple">
<li>int</li>
<li>float</li>
<li>bool</li>
<li>str (string)</li>
<li>owlready.normstr (a single-line string)</li>
<li>datetime.date</li>
<li>datetime.time</li>
<li>datetime.datetime</li>
</ul>
</div></blockquote>
<p>Here is an example of a string Data Property:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">has_for_synonym</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">onto</span>
<span class="gp">... </span>    <span class="nb">range</span>    <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">acetaminophen</span><span class="o">.</span><span class="n">has_for_synonym</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;acetaminophen&quot;</span><span class="p">,</span> <span class="s2">&quot;paracétamol&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you really need to create a range-less DataProperty in Owlready, you can use a very broad range, <em>e.g.</em>:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">my_rangeless_data_property</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">range</span> <span class="o">=</span> <span class="p">[</span><span class="n">OrRestriction</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)]</span> <span class="c1"># int or float or str or bool</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inverse-properties">
<h2>Inverse properties<a class="headerlink" href="#inverse-properties" title="Permalink to this headline">¶</a></h2>
<p>Two properties are inverse if they express the same meaning, but in a reversed way.
For example the &#8216;is_ingredient_of&#8217; Property is the inverse of the &#8216;has_for_ingredient&#8217; Property created above:
saying &#8220;a drug A has for ingredient B&#8221; is equivalent to &#8220;B is ingredient of drug A&#8221;.</p>
<p>In Owlready, Inverse Properties are defined using the &#8216;inverse_property&#8217; attribute.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">is_ingredient_of</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ontology</span>         <span class="o">=</span> <span class="n">onto</span>
<span class="gp">... </span>    <span class="n">domain</span>           <span class="o">=</span> <span class="p">[</span><span class="n">Ingredient</span><span class="p">]</span>
<span class="gp">... </span>    <span class="nb">range</span>            <span class="o">=</span> <span class="p">[</span><span class="n">Drug</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">inverse_property</span> <span class="o">=</span> <span class="n">has_for_ingredient</span>
</pre></div>
</div>
<p>Owlready automatically handles Inverse Properties. It will automatically set has_for_ingredient.inverse_property,
and automatically update relations when the inverse relation is modified.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_drug2</span> <span class="o">=</span> <span class="n">Drug</span><span class="p">(</span><span class="s2">&quot;my_drug2&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">aspirin</span> <span class="o">=</span> <span class="n">Ingredient</span><span class="p">(</span><span class="s2">&quot;aspirin&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">my_drug2</span><span class="o">.</span><span class="n">has_for_ingredient</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aspirin</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_drug2</span><span class="o">.</span><span class="n">has_for_ingredient</span><span class="p">)</span>
<span class="go">[onto.aspirin]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">aspirin</span><span class="o">.</span><span class="n">is_ingredient_of</span><span class="p">)</span>
<span class="go">[onto.my_drug2]</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">aspirin</span><span class="o">.</span><span class="n">is_ingredient_of</span> <span class="o">=</span> <span class="p">[]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_drug2</span><span class="o">.</span><span class="n">has_for_ingredient</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This won&#8217;t work for the acetaminophen drug created previously, because we created the inverse property
<strong>after</strong> we created the relation between my_drug and acetaminophen.</p>
</div>
</div>
<div class="section" id="functional-and-inverse-functional-properties">
<h2>Functional and Inverse Functional properties<a class="headerlink" href="#functional-and-inverse-functional-properties" title="Permalink to this headline">¶</a></h2>
<p>A functional property is a property that has a single value for a given instance. Functional properties
are created by inheriting the FunctionalProperty class. The default value is None for Object Properties,
0 for numbers, False for boolean and &#8220;&#8221; for strings.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">has_for_cost</span><span class="p">(</span><span class="n">FunctionalProperty</span><span class="p">):</span> <span class="c1"># Each drug has a single cost</span>
<span class="gp">... </span>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">onto</span>
<span class="gp">... </span>    <span class="n">domain</span>   <span class="o">=</span> <span class="p">[</span><span class="n">Drug</span><span class="p">]</span>
<span class="gp">... </span>    <span class="nb">range</span>    <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">acetaminophen</span><span class="o">.</span><span class="n">has_for_cost</span> <span class="o">=</span> <span class="mf">4.2</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">acetaminophen</span><span class="o">.</span><span class="n">has_for_cost</span><span class="p">)</span>
<span class="go">4.2</span>
</pre></div>
</div>
<p>An Inverse Functional Property is a property whose inverse property is functional.
They are created by inheriting the InverseFunctionalProperty class.</p>
</div>
<div class="section" id="creating-a-subproperty">
<h2>Creating a subproperty<a class="headerlink" href="#creating-a-subproperty" title="Permalink to this headline">¶</a></h2>
<p>A subproperty can be created by subclassing a Property class.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ActivePrinciple</span><span class="p">(</span><span class="n">Ingredient</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">onto</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">has_for_active_principle</span><span class="p">(</span><span class="n">has_for_ingredient</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">onto</span>
<span class="gp">... </span>    <span class="n">domain</span>   <span class="o">=</span> <span class="p">[</span><span class="n">Drug</span><span class="p">]</span>
<span class="gp">... </span>    <span class="nb">range</span>    <span class="o">=</span> <span class="p">[</span><span class="n">ActivePrinciple</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Owlready currently does not automatically update parent properties when a child property is defined.
This might be added in a future version, though.</p>
<p>If you need this feature, use the get_relations() global function:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">get_relations</span><span class="p">(</span><span class="n">my_drug</span><span class="p">,</span> <span class="n">has_for_ingredient</span><span class="p">))</span> <span class="c1"># List also has_for_active_principle!</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="associating-python-alias-name-to-properties">
<span id="id1"></span><h2>Associating Python alias name to Properties<a class="headerlink" href="#associating-python-alias-name-to-properties" title="Permalink to this headline">¶</a></h2>
<p>In ontologies, properties are usually given long names, <em>e.g.</em> &#8220;has_for_ingredient&#8221;, while in programming
languages like Python, shorter attribute names are more common, <em>e.g.</em> &#8220;ingredients&#8221; (notice also the use
of a plural form, since it is actually a list of ingredients).</p>
<p>Owlready allows to rename Properties with more Pythonic name through the &#8216;python_name&#8217; annotation (defined
in the Owlready ontology):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ANNOTATIONS</span><span class="p">[</span><span class="n">has_for_ingredient</span><span class="p">][</span><span class="s2">&quot;python_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ingredients&quot;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">my_drug3</span> <span class="o">=</span> <span class="n">Drug</span><span class="p">(</span><span class="s2">&quot;my_drug3&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cetirizin</span> <span class="o">=</span> <span class="n">Ingredient</span><span class="p">(</span><span class="s2">&quot;cetirizin&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">my_drug3</span><span class="o">.</span><span class="n">ingredients</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cetirizin</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Property class is still considered to be called &#8216;has_for_ingredient&#8217;, for example it is still
available as &#8216;onto.has_for_ingredient&#8217;, but not as &#8216;onto.ingredients&#8217;.</p>
</div>
<p>For more information about how to use annotations, see <a class="reference internal" href="annotations.html"><span class="doc">Annotations</span></a>.</p>
<p>The &#8216;python_name&#8217; annotations can also be set in ontology editors like Protégé, by importing the Owlready
ontology (file &#8216;owlready/owlready_ontology.owl&#8217; in Owlready sources).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Properties</a><ul>
<li><a class="reference internal" href="#creating-a-new-class-of-property">Creating a new class of property</a></li>
<li><a class="reference internal" href="#creating-a-relation">Creating a relation</a></li>
<li><a class="reference internal" href="#data-property">Data Property</a></li>
<li><a class="reference internal" href="#inverse-properties">Inverse properties</a></li>
<li><a class="reference internal" href="#functional-and-inverse-functional-properties">Functional and Inverse Functional properties</a></li>
<li><a class="reference internal" href="#creating-a-subproperty">Creating a subproperty</a></li>
<li><a class="reference internal" href="#associating-python-alias-name-to-properties">Associating Python alias name to Properties</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="class.html"
                        title="previous chapter">Classes and Instances (Individuals)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="restriction.html"
                        title="next chapter">Restrictions</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="restriction.html" title="Restrictions"
             >next</a></li>
        <li class="right" >
          <a href="class.html" title="Classes and Instances (Individuals)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Owlready 0.3 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2015, Jean-Baptiste LAMY.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>